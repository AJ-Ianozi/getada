name: Ada (GNAT)

on:
  push:
    branches: [ "main", "dev" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build-linux:

    runs-on: ubuntu-latest

    steps:

    - name: Checkout
      uses: actions/checkout@v3

    - name: Set up alire
      uses: alire-project/setup-alire@v1

    - name: Build alire
      run: >
        alr -n update &&
        alr -n build --release
      
    - name: Compress getada
      run: tar -cf getada-development-linux.tar bin
    
    - name: Uploadgetada
      uses: actions/upload-artifact@v2
      with:
         name: getada-development-linux.tar
         path: getada-development-linux.tar
